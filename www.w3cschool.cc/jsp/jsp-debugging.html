<!Doctype html>
<html xmlns=http://www.w3.org/1999/xhtml>
<head>
	<meta charset="UTF-8">
	<title>JSP 调试 | w3cschool菜鸟教程</title>
	<link rel='prev' title='JSP 异常处理' href='http://www.w3cschool.cc/jsp/jsp-exception-handling.html' />
<link rel='next' title='JSP 国际化' href='http://www.w3cschool.cc/jsp/jsp-internationalization.html' />
<link rel='canonical' href='http://www.w3cschool.cc/jsp/jsp-debugging.html' />
<meta name="keywords" content="JSP 调试,JSP 教程">
<meta name="description" content="JSP 调试 要测试/调试一个JSP或servlet程序总是那么的难。JSP和Servlets程序趋向于牵涉到大量客户端/服务器之间的交互，这很有可能会产生错误，并且很难重现出错的环境。  接下来将会给出一些小技巧和小建议，来帮助您调试程序。  	使用System.out.println() System.out.println()可以很方便地标记一段代码是否被执行。当然，我们也可以打印出各种各样的值。此外：  	 		自从System..">

	<!--[if lt IE 7]>
	<style>
	#leftcolumn{margin-left:0}
	</style>
	<![endif]-->
	<link rel="shortcut icon" href="http://www.w3cschool.cc/favicon.ico" mce_href="http://www.w3cschool.cc/favicon.ico" type="image/x-icon" >
	<script src="http://libs.baidu.com/jquery/1.8.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="http://www.w3cschool.cc/wp-content/themes/w3cschool.cc/assets/css/stdtheme.css?1.02" >
	
	</head>
<body>
<div id="top">
	<div style="height:78px;">
		<div id="topLogo">
			<a id="top"></a>
			<a href="http://www.w3cschool.cc" title="w3cschool菜鸟教程"><img width="336" height="69" src="http://www.w3cschool.cc/wp-content/themes/w3cschool.cc/assets/img/logo.png"  alt="W3CSchool.cc" style="border:0;margin-top:5px;" /></a>
		</div>
		<div id="searchTranslate">
			<div id="searchText">Search w3cschool.cc:</div>
			<div id="googleSearch">
			<form name="cse" id="searchbox_demo" action="http://www.google.com.hk/search">
				  <input type="hidden" name="cref" value="" />
				  <input type="hidden" name="ie" value="utf-8" />
				  <input type="hidden" name="hl" value="" />
				  <input type="hidden" name="sitesearch" value="w3cschool.cc">
				  <input name="as_q" type="text" size="20" />
				  <input type="submit" name="sa" value="搜索" />
				</form>
			</div>
		</div>
	
	</div>
	<div id="topnav">
		<div id="topnavTut">
			<a href="http://www.w3cschool.cc">首页</a>
			<a href="http://www.w3cschool.cc/html/html-tutorial.html">HTML</a>
			<a href="http://www.w3cschool.cc/css/css-tutorial.html">CSS</a>
			<a href="http://www.w3cschool.cc/js/js-tutorial.html">JavaScript</a>
			<a href="http://www.w3cschool.cc/jquery/jquery-tutorial.html">jQuery</a>
				<a href="http://www.w3cschool.cc/jqueryui/jqueryui-tutorial.html">jQueryUI</a>
			<a href="http://www.w3cschool.cc/bootstrap/bootstrap-tutorial.html">Bootstrap</a>
			<a href="http://www.w3cschool.cc/jquerymobile/jquerymobile-tutorial.html">jQueryMobile</a>
			<a href="http://www.w3cschool.cc/jeasyui/jqueryeasyui-tutorial.html">jQueryEasyUI</a>
			<a href="http://www.w3cschool.cc/xml/xml-tutorial.html">XML</a>
			<a href="http://www.w3cschool.cc/sql/sql-tutorial.html">SQL</a>
			<a href="http://www.w3cschool.cc/sqlite/sqlite-tutorial.html">SQLite</a>
			<a href="http://www.w3cschool.cc/php/php-tutorial.html">PHP</a>
			<a href="http://www.w3cschool.cc/python/python-tutorial.html">Python</a>
			<a href="http://www.w3cschool.cc/java/java-tutorial.html">Java</a>
			<a href="http://www.w3cschool.cc/jsp/jsp-tutorial.html">Jsp</a>
			<a href="http://www.w3cschool.cc/ios/ios-tutorial.html">IOS</a>
			<a href="http://www.w3cschool.cc/css-radius">前端工具</a>
			<a href="http://www.w3cschool.cc/sitemap">更多……</a>
			
		</div>
		<div id="topnavAbout">
				</div>
	</div>

	<div id="page">
		<!-- TopLeftRectangle -->
		
		<div style="clear:both;"></div>
<div id="leftcolumn">
	
	<h2 class="left"><strong>JSP 教程</strong></h2>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-tutorial.html" >
	JSP 教程	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-intro.html" >
	JSP 简介	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-setup.html" >
	JSP 开发环境搭建	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-architecture.html" >
	JSP 结构	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-life-cycle.html" >
	JSP 生命周期	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-syntax.html" >
	JSP 语法	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-directives.html" >
	JSP 指令	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-actions.html" >
	JSP动作元素	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-implicit-objects.html" >
	JSP 隐含对象	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-client-request.html" >
	JSP 客户端请求	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-server-response.html" >
	JSP服务器响应	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-http-status-codes.html" >
	JSP HTTP状态码	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-form-processing.html" >
	JSP 表单处理	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-writing-filters.html" >
	JSP 过滤器	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-cookies.html" >
	JSP Cookies处理	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-session.html" >
	JSP Session	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-file-uploading.html" >
	JSP 文件上传	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-handling-date.html" >
	JSP 日期处理	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-page-redirect.html" >
	JSP 页面重定向	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-hits-counter.html" >
	JSP 点击量统计	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-auto-refresh.html" >
	JSP 自动刷新	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-sending-email.html" >
	JSP 发送邮件	</a>
	<br><h2 class="left"><span class="left_h2">JSP 高级教程</span></h2>	<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-jstl.html" >
	JSP 标准标签库（JSTL）	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-database-access.html" >
	JSP 连接数据库	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-xml-data.html" >
	JSP XML数据处理	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-javabean.html" >
	JSP JavaBean	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-custom-tags.html" >
	JSP自定义标签	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-expression-language.html" >
	JSP 表达式语言	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-exception-handling.html" >
	JSP 异常处理	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-debugging.html" >
	JSP 调试	</a>
		<a target="_top" href="http://www.w3cschool.cc/jsp/jsp-internationalization.html" >
	JSP 国际化	</a>
	</div><div id="main">
<div id="mainLeaderboard">
<div style="width:728px;height:90px;float:right;">
<script type="text/javascript">
/*w3cschool-single*/
var cpro_id = "u1419468";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div>

</div>

	<div class="chapter">
		<div class="prev">&laquo; <a href="http://www.w3cschool.cc/jsp/jsp-exception-handling.html" rel="prev"> JSP 异常处理</a></div>
		<div class="next"><a href="http://www.w3cschool.cc/jsp/jsp-internationalization.html" rel="next">JSP 国际化</a> &raquo;</div>
	</div>

	<h1>JSP 调试</h1>
<p>要测试/调试一个JSP或servlet程序总是那么的难。JSP和Servlets程序趋向于牵涉到大量客户端/服务器之间的交互，这很有可能会产生错误，并且很难重现出错的环境。</p>
<p>
接下来将会给出一些小技巧和小建议，来帮助您调试程序。</p><hr />
<h2>
	使用System.out.println()</h2><p>
System.out.println()可以很方便地标记一段代码是否被执行。当然，我们也可以打印出各种各样的值。此外：</p>
<ul>
	<li>
		自从System对象成为Java核心对象后，它便可以使用在任何地方而不用引入额外的类。使用范围包括Servlets，JSP，RMI，EJB's，Beans，类和独立应用。</li>
	<li>
		与在断点处停止运行相比，用System.out进行输出不会对应用程序的运行流程造成重大的影响，这个特点在定时机制非常重要的应用程序中就显得非常有用了。</li>
</ul><p>
接下来给出了使用System.out.println()的语法：</p>
<pre>
System.out.println("Debugging message");
</pre>
<p>
这是一个使用System.out.print()的简单例子：</p>
<pre>
&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
&lt;c:forEach var="counter" begin="1" end="10" step="1" &gt;
   &lt;c:out value="${counter-5}"/&gt;&lt;/br&gt;
   &lt;% System.out.println( "counter= " + 
                     pageContext.findAttribute("counter") ); %&gt;
&lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><p>
现在，如果运行上面的例子的话，它将会产生如下的结果：</p>
<pre>
-4
-3
-2
-1
0
1
2
3
4
5
</pre>
<p>
如果使用的是Tomcat服务器，您就能够在logs目录下的stdout.log文件中发现多出了如下内容：</p>
<pre>
counter=1
counter=2
counter=3
counter=4
counter=5
counter=6
counter=7
counter=8
counter=9
counter=10
</pre>
<p>
使用这种方法可以将变量和其它的信息输出至系统日志中，用来分析并找出造成问题的深层次原因。</p><hr />
<h2>
	使用JDB Logger</h2><p>
J2SE日志框架可为任何运行在JVM中的类提供日志记录服务。因此我们可以利用这个框架来记录任何信息。</p>
<p>
让我们来重写以上代码，使用JDK中的 logger API：</p>
<pre>
&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@page import="java.util.logging.Logger" %&gt;

&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
&lt;% Logger logger=Logger.getLogger(this.getClass().getName());%&gt;

&lt;c:forEach var="counter" begin="1" end="10" step="1" &gt;
   &lt;c:set var="myCount" value="${counter-5}" /&gt;
   &lt;c:out value="${myCount}"/&gt;&lt;/br&gt;
   &lt;% String message = "counter="
                  + pageContext.findAttribute("counter")
                  + " myCount="
                  + pageContext.findAttribute("myCount");
                  logger.info( message );
   %&gt;
&lt;/c:forEach&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>
它的运行结果与先前的类似，但是，它可以获得额外的信息输出至stdout.log文件中。在这我们使用了logger中的info方法。下面我们给出stdout.log文件中的一个快照：</p>
<pre>
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=1 myCount=-4
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=2 myCount=-3
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=3 myCount=-2
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=4 myCount=-1
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=5 myCount=0
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=6 myCount=1
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=7 myCount=2
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=8 myCount=3
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=9 myCount=4
24-Sep-2013 23:31:31 org.apache.jsp.main_jsp _jspService
INFO: counter=10 myCount=5
</pre>
<p>
消息可以使用各种优先级发送，通过使用sever()，warning()，info()，config()，fine()，finer()，finest()方法。finest()方法用来记录最好的信息，而sever()方法用来记录最严重的信息。</p>
<p>
使用Log4J 框架来将消息记录在不同的文件中，这些消息基于严重程度和重要性来进行分类。</p><hr />
<h2>
	调试工具</h2><p>
NetBeans是树形结构，是开源的Java综合开发环境，支持开发独立的Java应用程序和网络应用程序，同时也支持JSP调试。</p>
<p>
NetBeans支持如下几个基本的调试功能：</p>
<ul>
	<li>
		断点</li>
	<li>
		单步跟踪</li>
	<li>
		观察点</li>
</ul><p>
详细的信息可以查看NetBeans使用手册。</p><hr />
<h2>
	使用JDB Debugger</h2><p>
可以在JSP和servlets中使用jdb命令来进行调试，就像调试普通的应用程序一样。</p>
<p>
通常，我们直接调试sun.servlet.http.HttpServer 对象来查看HttpServer在响应HTTP请求时执行JSP/Servlets的情况。这与调试applets非常相似。不同之处在于，applets程序实际调试的是sun.applet.AppletViewer。</p>
<p>
大部分调试器在调试applets时都能够自动忽略掉一些细节，因为它知道如何调试applets。如果想要将调试对象转移到JSP身上，就需要做好以下两点：</p>
<ul>
	<li>
		设置调试器的classpath，让它能够找到sun.servlet.http.Http-Server&nbsp; 和相关的类。</li>
	<li>
		设置调试器的classpath，让它能够找到您的JSP文件和相关的类。</li>
</ul><p>
设置好classpath后，开始调试sun.servlet.http.Http-Server 。您可以在JSP文件的任意地方设置断点，只要你喜欢，然后使用浏览器发送一个请求给服务器就应该可以看见程序停在了断点处。</p>
<hr /><h2>
	使用注释</h2><p>
程序中的注释在很多方面都对程序的调试起到一定的帮助作用。注释可以用在调试程序的很多方面中。</p>
<p>
JSP使用Java注释。如果一个BUG消失了，就请仔细查看您刚注释过的代码，通常都能找出原因。</p><hr />
<h2>
	客户端和服务器的头模块</h2><p>
有时候，当JSP没有按照预定的方式运行时，查看未加工的HTTP请求和响应也是很有用的。如果对HTTP的结构很熟悉的话，您可以直接观察request和response然后看看这些头模块到底怎么了。</p>
<hr /><h2>
	重要调试技巧</h2><p>
这里我们再透露两个调试JSP的小技巧：</p>
<ul>
	<li>
		使用浏览器显示原始的页面内容，用来区分是否是格式问题。这个选项通常在View菜单下。</li>
	<li>
		确保浏览器在强制重新载入页面时没有捕获先前的request输出。若使用的是Netscape Navigator浏览器，则用Shift-Reload；若使用的是IE浏览器，则用Shift-Refresh。</li>
</ul>	<div class="chapter">
		<div class="prev">&laquo; <a href="http://www.w3cschool.cc/jsp/jsp-exception-handling.html" rel="prev"> JSP 异常处理</a></div>
		<div class="next"><a href="http://www.w3cschool.cc/jsp/jsp-internationalization.html" rel="next">JSP 国际化</a> &raquo;</div>
	</div>
</div>
<div id="rightcolumn">
	
	<div>
		<a href="http://www.w3cschool.cc/games/flappybird/" rel="nofollow" target="_blank"/>
			<img src="http://www.w3cschool.cc/wp-content/themes/w3cschool.cc/assets/img/fb.png" alt="Flappy Bird电脑版"/>
		</a>
	</div>
	<div class="rightad">
		<h2>扫描二维码访问移动版</h2>
		<a href="http://m.w3cschool.cc/" rel="nofollow" target="_blank"/>
		<img src="http://www.w3cschool.cc/wp-content/themes/w3cschool.cc/assets/img/150x150.png" alt="w3cschool移动版"/>
		</a>
	</div>
	
	<div class="rightad">
		<h2>参考手册</h2>

		<a href="/tags/html-reference.html" title="HTML 4">HTML 参考手册</a>
		<a href="/jsref/jsref-tutorial.html" title="CSS 参考手册">JS 参考手册</a>
		<a href="/cssref/css-reference.html" title="CSS 参考手册">CSS 参考手册</a>
		<a href="http://www.w3cschool.cc/jsontool" target="_blank" title="json格式工具"/>json格式工具</a>
		<a href="javascript:void(0)">（QQ讨论群：71358470）</a>
		
	</div>
	<div class="rightad">
		<h2>CHM 离线手册</h2>
		<a href="http://url.cn/RVn5Ra" rel="nofollow" target="_blank"/>Bootstrap离线版</a>
		<a href="http://url.cn/JBFcTA" rel="nofollow" target="_blank"/>jQuery EasyUI离线版</a>
		<a href="http://url.cn/QkCiwZ" rel="nofollow" title="MongoDB 入门教程" target="_blank">MongoDB入门手册</a>
		<a href="http://url.cn/KH9NML" rel="nofollow" target="_blank"/>w3cschool 离线版</a>
		<a href="http://www.w3cschool.cc/chmproblem" target="_blank"/>打开CHM文档遇到问题……</a>
	</div>
	<div class="wideSkyscraper">
		<script type="text/javascript">
		/*w3cschool 竖幅*/
		var cpro_id = "u1419463";
		</script>
		<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
	</div>
</div>
		<div style="clear:both;"></div>
<div id="footer">
			<br>
	
			<hr style="height:2px;">
			<div id="footerImg"><a href="http://www.w3cschool.cc/">
				<img style="border:0" src="http://www.w3cschool.cc/wp-content/themes/w3cschool.cc/assets/img/w3cschoolcc_gray.gif" alt="W3Cschool.cc" /></a>
			</div>
			<div id="footerAbout">
				<a href="http://www.w3cschool.cc/disclaimer">免责声明</a>
<a href="http://www.w3cschool.cc/aboutus">关于我们</a>
</ul>	
			</div>
			<div id="footerText">
				提供的内容仅用于培训。我们不保证内容的正确性。通过使用本站内容随之而来的风险与本站无关。当使用本站时，代表您已接受了本站的使用条款和隐私条款。
版权所有，保留一切权利。W3CSchool 简体中文版的所有内容仅供测试，对任何法律问题及风险不承担任何责任。
			</div>
		</div>
	</div>
</div>
<a class="backtop" href="javascript:void"></a>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F8e2a116daf0104a78d601f40a45c75b4' type='text/javascript'%3E%3C/script%3E"));
</script>
<div style="display:none;">
<script src="http://s11.cnzz.com/stat.php?id=5578006&web_id=5578006" language="JavaScript"></script>
</div>
<div class="share-box">
  <div class="share-box-top">分享到</div>
  <div class="share-box-inner">
    <div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
        <a class="bds_qzone" title="分享到QQ空间" href="#"></a>
        <a class="bds_tsina" title="分享到新浪微博" href="#"></a>
        <a class="bds_tqq" title="分享到人人网" href="#"></a>
		<a class="bds_baidu" title="百度收藏" href="#"></a>
        <span class="bds_more">更多</span>
	<a class="shareCount" id="shareCount" href="#" title="累计分享0次">0</a>
    </div>
  </div>
  <div class="share-box-bottom"></div>
</div>

<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=470751" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<script>
function NewWindow(text)
{
  win=window.open(text,'','top=0,left=0,width=400,height=350');
}
$(function() { 
	$("#leftcolumn").find("a").each(function(){
		if($(this).attr("href") == window.location.href) {
			$(this).css("font-weight", "bold");
		}
		
  });
  
  	$(window).scroll(function () {
        if($(window).scrollTop()>=100) {
            $(".backtop").fadeIn();
        }else {
        	
        		$(".backtop").fadeOut();
        }
    });
	

	$(".backtop").click(function(event){	
		$('html,body').animate({scrollTop:0}, 500);
		return false;
	});
		
})
</script>
</body>
</html>
<!-- Dynamic page generated in 0.206 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-03-05 19:40:03 -->

<!-- super cache -->